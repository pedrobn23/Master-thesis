
\chapter{Universality, Adjoints and Closed Cartesian Categories}

In this chapter we are going to study universality and adjunctions. Despite a possible apparent difference in definitions, both have the same use: they are tools that, given an arrow selected in a category, allow us to uniquely select an arrow in another category, generally fulfilling some special property (if not, a functor would be enough). \\

We will start this section with the definition of universality, as well as the statement of Yoneda's lemma. Then, we present the concept of Adjunction. We will use these concepts to introduce new structures, in particular that of closed Cartesian category.


\section{Universality}
In this section we present the concept of universality. This concept is behind lots of mathematical properties. Intuitively, universality is an efficient way of expressing an one-to-one correspondence between arrows of different categories. This one-to-one relationship is usually expressed via ''given an arrow  $y$ it exists one and only one  arrow $x$ such that <insert your favorite universal property>''.\\

Lets do an introductory example. Probably the first contact that any mathematician has with universality is defining a function  $f:\mathbb R \to \mathbb R^2$. It is easy to see that defining such a function is equivalent to define two $g,h: \mathbb R \to \mathbb R$. Furthermore, those $g,h$ are unique for each $f$. This uniqueness is the flavor that attempts to capture the concept of universality. Other examples of unique existence are those that occur in quotient groups or in bases of vector spaces. \\

\begin{definition}\label{def:univ-arrow}
  Let $S: D \to C$ be a functor and $c \in Ob(C)$, an \emph{universal arrow}  from $c$ to $S$ is a pair $(d,u)$ with $d\in Ob(D), u:c \to Sd \in Ar(C)$, such that for every $(e,f)$ with $e\in Ob(D)$  and $f:c\to Sd$ there exists an unique $f':r,d\in Ar(D)$ such that $Sf'\circ u = f$.

\end{definition}
In a diagram:

\[
  \begin{tikzcd}
      c\arrow[r, "u"] \arrow[rd, "f", swap]      & Sd \arrow[d, "Sf'", dashed]& d\arrow[d,"f'",dash]\\
       &Se& e 
    \end{tikzcd}
  \]

  Note that an universal arrow $(d,u)$ induces the unique existence of an arrow in $D$, but with interesting properties via it relationship with $S$. Usually, to provide an universal arrow we will only define the functor $S:D\to C$ and the arrow $u:c\to Sd$, letting all other information be deduced from the context.\\



  The idea of universality is often regard via the notion of \emph{universal element}, in the special (and commonplace) case where $S:D\to Set$.

  \begin{definition}
    Let $S: D \to Set$, an \emph{universal element}  for $S$ is a pair $(r,e)$ with $r \in Ob(D), e \in   Sr$, such that for every $(d,x)$ with $d\in Ob(D), x\in Sd$, there is an unique arrow $f:r\to d\in D$ such that $(Sf)e = x$. 
  \end{definition}


    Note that having an universal element is a particular case of having an universal arrow. Considering $*$ the set with one point (as a category) an universal element is an universal arrow $*\to H$. This is clearly seen if we consider the diagram:
%      c\arrow[r, "u"] \arrow[rd, "f"]
    \[
  \begin{tikzcd}
     *\arrow[r, "u"] \arrow[rd, "f", swap] & Sr \arrow[d, "Sf", dashed]& r\arrow[d,"f", dash]\\
      &Sd& d 
    \end{tikzcd}
  \]

  where $*$ is helping us select the elements of $Sd$ and $Se$ to enforce the property.\\

  Conversely if $D$ has small homesets, we can consider an universal arrow to be a particular case of an universal element. With the same context as in \ref{def:univ-arrow} $(d,u: c\to Sd)$ is an universal arrow if, and only if, $(d, u\in  \hom_{D}(c, Sd))$ is an universal element.\\

  The point of having these such similar definition is to have different interfaces for the concept. While most result can be easily adapted, once we got to the examples is clear when to use each concept. 
  
  \begin{example}\ 
    \begin{itemize}
    \item Quotient Group: This property states that, for any two groups $N\lhd G$ with $\pi: G \to N$ the canonical projection, and any group homomorphism $f:G\to K$ such that $N\subset \ker f$ there exists an unique $\overline f: H \to K$ such that $\overline f  \circ \pi = f$.\\
      
      The question now is, how is this a universal property. This is an example of a universal element. Considering the functor $H: Grp\to Set$:
      $$HG' = \{f:G\to G'\in Ar(Grp) : F(N)=\{0\} \},$$
      
      Then, $(G/N, \pi)$ is an universal element for $H$. From this property alone the three isomorphism theorems can be deduced. Therefore, we only have to prove this result to have the full power of these theorems in any context (e.g. Rings, K-Algebra, or Topological spaces).

    \item Tensor Product: Given an right $R$-module $A$ and a left $R$-module $B$ one can consider the tensor product as an abelian group $A\otimes_R B$ and an $R$-biadditive function
      $$h:A\times B\to A \otimes_R B,$$
      such that  for every $R$-biadditive $f:A\times B \to G$ it exists an unique $\overline f$ such that $\overline f\circ h=f$. Is easy to follow that tensor product can be reformulated as an universal arrow $\varphi:A\time B \to A\otimes_R B$ from $A\times B$ to the identity functor in the category of $R$-additive groups along with $R$-additive functions.
    \end{itemize}
  \end{example}

  Dualy, we can consider an \emph{universal arrow from $S$ to $c$} or simply universal arrow from $S$:
\begin{definition}\label{def:univ-arrow2}
  Let $S: D \to C$ be a functor and $c \in Ob(C)$, an \emph{universal arrow}  from $c$ to $S$ is a pair $(d,u)$ with $d\in Ob(D), u:c \to Sd \in Ar(C)$, such that for every $(e,f)$ with $e\in Ob(D)$  and $f:c\to Sd$ there exists an unique $f':r,d\in Ar(D)$ such that $u\circ Sf' = f$.

\end{definition}
In a diagram:

\[
  \begin{tikzcd}
      c       & Sd \arrow[swap, l, "f"]\arrow[d, "Sf'", dashed]& d\arrow[d,"f'"]\\
       &Se\arrow[lu, "u"]& e 
    \end{tikzcd}
  \]


  \begin{example}\label{example:prod}\ 
    \begin{itemize}
    \item In $Set$  we have a particular construction: the product of sets for any two sets $a,b$ along with the projections $\pi_1 a \times b \to a$ and $\pi_2 a \times b \to b$. Then, we can define the functor $\Delta: Set \to Set\times Set$ such that $\Delta c = c\times c$ for every $c\in Ob(Set)$ and $\Delta (f:c\to b): c\times c\to b\times b$ is the elements-wise application of $f$.\\

Then, given any two sets $a,b\in Ob(Sets)$, $u=(\pi_1,\pi_2)$ is an universal arrow from $\Delta$ to $(a,b)$ as

\[
  \begin{tikzcd}
      (a,b)       & \Delta d=(d,d) \arrow[swap, l, "f"]\arrow[d, "\Delta f'", dashed]& d\arrow[d,"f'"]\\
       &\Delta e=(e,e)\arrow[lu, "u"]& e 
    \end{tikzcd}
  \]

  This construction is reproducible in, among many others, $Grp, Top$ or Banach Spaces with bounded linear transformation. 
\end{example}

    
  Lastly, we will provide a characterization of universality:
  \begin{proposition}\label{Yoneda-proposition}
      Let $S: D \to C$ be a functor and $u:c\to Sr\in Ar(C)$. Then $u$ is an universal arrow if and, only if, the function $\varphi:\hom_D(r,\cdot)\to \hom(c,S\cdot)$ such that $\varphi(d)(f)= Sf\circ u$ for all $f\in \hom_D(r,d)$ is a natural bijection. Conversely, every natural bijection is uniquely determined by an universal arrow $u:c\to Sr$. 
  \end{proposition}
  \begin{proof}
    Let $u$ be universal. Then for $\varphi$ to be a natural transformation the diagram 
    \[
      \begin{tikzcd}
        \hom_D(r,d)\arrow[swap]{d}{\hom_D(r,g)}\arrow{r}{\varphi(d)} & \hom_C(r,Sd)\arrow{d}{\hom_C(r,Sg)}\\
        \hom_D(r,d')\arrow{r}{\varphi(d')} & \hom_C(r,Sd')
      \end{tikzcd}
    \]

    should commute for all $g\in Ar(D)$. As this is a diagram in the category of sets, we can check the commutativity by checking it element wise. For any $f \in\hom_D(r,d)$:
    \[
      \begin{tikzcd}
        f\arrow[swap]{d}{\hom_D(r,g)}\arrow{r}{\varphi(d)} & Sf\circ u \arrow{d}{\hom_C(r,Sg)}\\
        g\circ f \arrow{r}{\varphi(d')} & S(g\circ f) \circ u = Sg\circ Sf \circ u
      \end{tikzcd}
    \]

    So the diagram commutes, and $\varphi$ is natural. The bijectivity follows from $u$ being universal.\\

    Lets consider now that $\varphi$ is a natural bijection. We will define $u := \varphi(r)(1_r)$ and check that $(r,u)$ is an universal arrow. As $\varphi$ is natural we have that:

    \[
      \begin{tikzcd}
        \hom_D(r,r)\arrow[swap]{d}{\hom_D(r,g)}\arrow{r}{\varphi(r)} & \hom_C(r,Sr)\arrow{d}{\hom_C(r,Sg)}\\
        \hom_D(r,d)\arrow{r}{\varphi(d)} & \hom_C(r,Sd)
      \end{tikzcd}
    \]

    Writing the diagram for the element $1_r\in\hom_D(r,r)$ and any $d\in Ob(D), g:r\to d\in \hom_D(r,d)$:

    \[
      \begin{tikzcd}
        1_r \arrow[swap]{d}{\hom_D(r,g)}\arrow{r}{\varphi(r)} & u \arrow{d}{\hom_C(r,Sg)}\\
        g\arrow{r}{\varphi(d)} & \varphi(d)(g)= Sg\circ u
      \end{tikzcd}
    \]

    and since $\varphi$ is a bijection, for every $f\in \hom_C(r,Sd)$ there is an unique function $f' = \varphi(d)^{-1}(f)$ such that $Sf'\circ u = f$, thus being $u$ universal.

\end{proof}
From this theorem there is a definition that arises:

\begin{definition}
  Let $D$ be a category with small home-sets and let $F:D\to C$ be a functor. A representation of a functor $K:D\to Set$ is a pair $(r,\varphi)$ with $r \in Ob(D)$ and $ \varphi$ a natural isomorphism  such that
  $$D(r,\cdot) \equiv_{\varphi} F.$$
  A functor is said to be \emph{re-presentable} whenever it has a representation.
\end{definition}

Note that therefore a universal arrow induces a natural isomorphism $D(r,d)\equiv C(c,Sd)$ and this induces a representation of the functor $C(c,S\cdot): D\to Set$, being these three equivalent.

\subsection{Yoneda's lemma}
This subsection  deals with Yoneda's Lemma. Mac Lane\cite{mac2013categories} assures the lemma first appeared in his private communication with Yoneda in 1954. With time, this result has became one of the most relevant one in Category Spaces. We will start by providing some intuition to it, followed by it proof and some use cases.\\


 This results is due to Japanese professor Nobuo Yoneda. We know about Yoneda's life thanks to the elegy that was written by Yoshiki Kinoshita\cite{YonedaLife}. Yoneda was born in Japan in 1930, and received his doctorate in mathematics from Tokyo University in 1952. He was a reviewer for international mathematical journals. In addition to his contributions to the field of mathematics, he also devoted his research to computer science.\\


The idea behind the Yoneda lemma can be arid at first, if one does not have a prior understanding of what the purpose and usefulness of this lemma is. In order to illustrate this idea we will introduce a (simplified) definition of Moduli Spaces, so that we have a geometric understanding of Yoneda's Lemma.\\

The idea behind (some) Moduli spaces is to classify algebraic curves up to isomorphisms. In addition, Moduli spaces allow us to control complex mathematical objects (such as a quotient space of unknown objects) by simpler objects or objects with better properties (such as a concrete variety). A canonical example of this type of classification is:  
\begin{align*}
  \{\text{Vector spaces of finite dimension}\}/\text{isomorphism } &\cong \N\\
  [V] &\to dim V.
\end{align*}
Where a complex object can be classified by another object of which we know more properties. We can start by defining:  
$$\mathcal{M} = \{\text{smooth complex non singular curves} \}/\text{isomorphism}$$

Further on when we talk about curves we will refer to smooth complex non singular curves. Note that if two curves are isomorphic then they have the same genus. Therefore the function 
\begin{align*}
      \gamma: \mathcal{M} &\mapsto \N\\
      \displaystyle  [V]&\mapsto \text{genus of V} 
\end{align*}

is well defined and we can define $\mathcal{M}_g = \gamma^{-1}(g)$. An interesting classification of $\mathcal{M}_g$ is given when we consider that for every $g$ there exists a closed, connected, non-singular variety $U_g$ and a family $\{C_t : t \in U_g}$ such that a curve of genus $g$ will be a fibration of $C_t$.  Moreover there is a variety $M_g$ and a subjective morphism $\varphi: U_g \to M_g$ such that $\varphi(t_1)=\varphi(t_2)$ if $C_{t_1} \equiv C_{t_2}$. Therefore we are classifying the equivalence classes of $\mathcal{M}_g$ by points of the variety $M_g$ (thus generating a Moduli problem).\\

Similarly to this two example, with the Yoneda lemma we will have a functor $F:D\to Set$ and one representation of this functor. We will classify the natural transformation of these functors by the set in the image of $F$! Interestingly enough, there will be applications where the complex object is not the space of naturals transformations, but the images of $F$ (see \ref{Cayleys} for an example). Lets proceed to enunciate and proof the result.

\begin{theorem}\cite[Section 3.2]{mac2013categories}
  Let $D$ be a category with small home-sets, $F:D\to Set$ be a functor, and $r\in Ob(D)$. Then there is a bijection
  \begin{align*}
    \tau:Nat(\hom_D(r,\cdot), F\cdot) &\equiv Fr\\
    \tau(\alpha:\hom_D(r,\cdot)\to F\cdot)& = \alpha(r)(1_r)
  \end{align*}
  Where $\tau$ is natural in $K$(as an object of $Set^{D}$) and in $r$.
\end{theorem}
\begin{proof}
  As $\alpha$ is a natural transformation we have that, for every $g:r\to d\in Ar(D)$: 
    \[
      \begin{tikzcd}
        \hom_D(r,r)\arrow[swap]{d}{\hom_D(r,g)}\arrow{r}{\alpha(r)} & Kr\arrow{d}{Kg}\\
        \hom_D(r,d)\arrow{r}{\alpha(d)} & Kd
      \end{tikzcd}
    \]
Writing $\alpha(r)(1_r) = u$ we have that:
    \[
      \begin{tikzcd}
        1_r\arrow[swap]{d}{\hom_D(r,g)}\arrow{r}{\alpha(r)} & u\arrow{d}{Kg}\\
        g\arrow{r}{\alpha(d)} & \alpha(d)(g)=Kg(u)
      \end{tikzcd}
    \]

    Therefore every natural transformation is uniquely identified by the value of $u$, therefore $\tau$ is injective. Moreover, for every $u$ in $Kr$, we can define a natural transformation following the previous diagram, therefore, $\tau$ is bijective.\\

To see that $\tau$ we is natural we have to consider for which functor it is natural. Consider the functor \emph{Evaluation} $E: Set^D\times D$ that maps each $(F,c)\to Fc$, and the functor $N:Set^D\times D\to Nat(\hom_D(r,\cdot),K)$ the set of natural transformations. Finally, $\tau:N\to E$ is a natural transformation.
\end{proof}

The first functor that we will want to apply this result is to the $\hom_{\cdot}$ functor. But this functor is a bifunctor, so to get the full result of this lemma applied to the full bifunctor we may restate this lemma to contravariant functors.

\begin{corollary}
  Let $D$ be a category with small home-sets, $F:D\to Set$ be a contravariant functor, and $r\in Ob(D)$. Then there is a bijection
  \begin{align*}
    \tau:Nat(\hom_D(\cdot,r), F\cdot) &\equiv Fr\\
    \tau(\alpha:\hom_D(\cdot,r)\to F\cdot)& = \alpha(r)(1_r)
  \end{align*}
  
  Where $\tau$ is natural in $K$(as an object of $Set^{D}$) and in $r$.
\end{corollary}
\begin{proof}
We seek to use the Yoneda lemma in the functor $F':D^{op}\to Set$ induced by $F$. Then we have that: 
  \begin{align*}
    \tau:Nat(\hom_{D^{op}}(r,\cdot), F'\cdot) &\equiv F'r\\
    \tau(\alpha:\hom_{D^{op}}(r,\cdot)\to F'\cdot)& = \alpha(r)(1_r)
  \end{align*}

  Taking into account that $F_{|Ob(D)}=F'_{|Ob(D^{op})}$, and that 
  $\hom_{D^{op}}(r,\cdot) = \hom_D(\cdot,r)$ we have the result.
\end{proof}

As we have seen, the Yoneda lemma is a direct generalization of the moduli problem. In the same vein, Yoneda's lemma is the generalisation of other problems/theorems in mathematics, most notably Cayley's lemma. It states:
\begin{proposition} \label{Cayleys}
Any group is isomorphic to a subgroup of a symmetric group.
\end{proposition}

To understand this, take a groups $G$ seen as a single-object category, and name that object $e$. Then, the functor $\hom_G(e, \cdot): G \to Set$ can be seen as a group action \ref{group-action}. Then the Yoneda lemma states that:

$$Nat(\hom_G(e,\cdot), Hom_G(e,\cdot)) \equiv_\varphi Hom_G(e,e).$$

Translating this result to group theory:
\begin{itemize}
\item Remember that $Hom_G(e,e)$ is the group $G$.
\item Every natural transformation is a equivariant map between G-sets.
\item This equivariant maps, forms an endormophism group under composition, being a subgroup of the group of permutations.
\item This natural isomorphism $\varphi$ define a group isomorphism.
\end{itemize}

So we have the isomorphism of groups that is stated in Cayley's Theorem.\\



We continue our exploration of Yoneda lemma by defining the \emph{Yoneda Embedding}. For that we define the contravariant functor $h_a = \hom_C(\cdot, a)$. Then the contravariant Yoneda lemma tell us that:
$$Nat(h_a,h_b) \equiv_{\tau_a} \hom(a,b).$$

We then can define a fully faithfull embedding $\upsilon: C \to Set^{C^{op}}$ such that 
\begin{align*}
  \upsilon a  &= \hom_C(A, \cdot)\qquad \forall a \in Ob(C), \\
  \upsilon f &= \tau_a^{-1} (f)\qquad\qquad \forall f:b\to a\in Ar(C).
\end{align*}

This functor allows us to view the category $C$ as a subcategory of the category of contravariant functors from $C$ to $Set$, which will be useful for determining "heritable" properties in $C$.
\subsection{Properties expressed in terms of universality}

  After the examples given, we define a few constructions that are commonplace in Maths. We will outline the notions of limit, pullback and product, and the dual notions of colimit, pushout and coproduct.\\

  The notions of product and pullback can be seen as particular cases of the notion of limit. To define limit we will introduce the concept of co-cone and the diagonal functor. \\

  \begin{definition}
    Let $C,J$ be categories. We can define the functor $\Delta_J: C \to C^J$ that maps $c$ to the functor from $J$ to $C$ that is constantly $c$, and maps every arrow to the identity $1_c$. 
  \end{definition}

  Whenever possible we will write only $\Delta$, and let the information of the category be deduced from context. $J$ is usually small and often finite. We can now consider a natural transformation $\tau: F \to \Delta c$. This can be represented as in the following diagram:
    \[
      \begin{tikzcd}
        Fx_j\arrow[swap]{dr}{\tau x_j}\arrow{rr}{F g} &
        & Fx_k\arrow{dl}{\tau x_k}\\
        & c&
      \end{tikzcd}
    \]

    commutes for every $g:x_j\to x_k\in Ar(j)$, for that reason, such natural transformation is usually called a co-cone. The dual notion is called cone and  is represented as:
    \[
      \begin{tikzcd}
        Fx_j\arrow{rr}{F g}&
        & Fx_k\\
        & c\arrow{ur}[swap]{\tau x_k}\arrow{ul}{\tau x_j} &
      \end{tikzcd}
    \]


    We can now define the concepts of limit and colimit. We introduce first the concept of colimit. This definition is that of an universal arrow, only in a category of functors. Following this definition, we will define the limit as its dual concept.
  \begin{definition}
 A colimit is an object $r\in Ob(C)$ together with an universal arrow $u:F\to \Delta r \in Ar(C^J)$. The colimit is denoted by $$\lim_{\leftarrow} F = r = \colim F.$$
  \end{definition}

  The notation $\lim_{\leftarrow}$ is intuitive: in the colimit we have arrows to $F$. To represent this as a diagram, we have a co-cone $u\to \colim F$ such that for every other co-cone $\tau \to s$, it exist an unique $f$ such that the following commutes for every $x_j,x_k\in Ob(C)$:

\[
\begin{tikzcd}
{} & l& & \\
& \colim F   \arrow[dashed]{u}[description]{f} \\
x_j \arrow{ur}{u x_j} \arrow[bend left]{uur}{\tau x_j}\arrow[swap]{rr}{Fg} & & 
x_k \arrow[swap]{dr}{u x_k}\arrow[bend right,swap]{uul}{\tau x_k}\\
\end{tikzcd}
\]

  
Now, thanks to the duality of categories, we can define what a limit is in a very synthetic way:

\begin{definition}
  A limit is the dual concept of a colimit. It is denoted as
  $$\lim_{\rightarrow} F = r = \lim F.$$
\end{definition}

A limit is represented by the following diagram:
\[
\begin{tikzcd}
{} & l
\arrow[bend right,swap]{ddl}{\tau x_j}
\arrow[bend left]{ddr}{\tau x_j} \arrow[dashed]{d}[description]{f}& & \\
& \lim F \arrow{dr}{u x_k} \arrow{dl}[swap]{u x_j} \\
x_j \arrow[swap]{rr}{Fg} & & 
x_k \\
\end{tikzcd}
\]

Analogously as in the colimit notation, in the limit we have arrows from $F$, and thus the notation $\lim_{\rightarrow}$. Let focus for a while now in the notion of limit, in particular of two of its specials cases: the product and the pullback. From these cases we are going to provide most examples. \\

We have already talked about the product of categories. The product is a limit where $J$ is the 2-element discrete category, that is, where every functor $F:J\to C$ is merely choosing to object of $C$. 

\begin{definition}\label{prod-univ}
  Let $C$ be a category, $J=\{0,1\}$ be the discrete category with two elements. The product $c_1\times c_2$ of two elements $c_0,c_1\in Ob(C)$ is the limit of the functor $F:J\to C$ such that $F0 = c_0, F1= c_1$.
\end{definition}

This construction means that providing an arrow to $c_0,c_1$ determines an unique arrow to $c_0\times c_1$ and vice versa by composition with $\pi_i$. In this case, the arrows $u0, u1$ are usually called \emph{projections} and denoted by $\pi_0, \pi_1$. The notation is due to the product being a generalization of the Cartesian product in the category $Set$. It is also sometimes note with $c_0 \Pi c_1$ with $\Pi$ being standard for the sequence product. Some examples of product object in categories are:
\begin{example}\ 
\begin{itemize}
\item Products from Example \ref{example:prod}.
\item In Haskell, considering two integer types \texttt{A} and \texttt{B}, we can consider the duple type \texttt{(A,B)} that is the product, along with projections \texttt{fst} and \texttt{snd} to be a product. We can fairly easily check that, for any other integer type \texttt{C} and any morphism \texttt{f: C$\to$ (A,B)} it exist a unique \texttt{g} and \texttt{h} such that:
\[
\begin{tikzcd}
{} & C \arrow[bend right,swap,dashed]{dl}{g}
\arrow[bend left,dashed]{dr}{h} \arrow{d}[description]{f}& & \\
A  &(A,B) \arrow{l}[swap]{fst} \arrow{r}{snd} & 
B \\
\end{tikzcd}
\]
Note that we have requested \texttt{A} and \texttt{B} to be integer types. Quite surprisingly, this construction can not be generalized in Haskell to provide a product type for every object\cite{wiki:hask}. This will provide in the future a palpable difference between our theoretical $\lambda$-calculus, and its applicable version,  Haskell.\\

This troubles arise from of implementation details of bottom values. Why have not anyone fix this? Well, when functions have to terminate and only finite values are considered this problems does not Arise. This condition is fairly acceptable in any engineering scenario. 
\end{itemize}
\end{example}

Analogously, we can define the coproduct, on which instead of defining an arrow to $c_0, c_1$, we define an object \emph{from} $c_0,c_1$. 
\begin{definition}
  The coproduct is the dual definition of the product. It is denoted by $c_0 \sqcup c_1$.
\end{definition}
 In this notation $\sqcup$ denotes an inverted $\Pi$, with the meaning of being the dual notion of the product.
\begin{example}\ 
  \begin{itemize}
  \item In the category $Ab$ of Abelian Group and morphism, finite products and coproducts are equivalent. This equivalence also happens in others categories, such as $R$-Modules for a ring $R$ or vector spaces. This has a underlying idea of a type of category that relates this constructions: This are all \emph{Abelian Categories}, as in \cite[Section 5.5]{rotman2008introduction}.\\

    We will not delve further into this concept so as not to deviate from the subject at hand. However, for those readers who are familiar with the notation, we cannot resist including Mitchel's theorem\cite[Chapter IV]{mitchell1965theory} .

    \begin{theorem}[Mitchell's Theorem] If A is a small abelian category, then there is a covariant full faithful exact functor $F : A \to Ab$.
    \end{theorem}

    As a consequence, any statement ``$p$ implies $q$'' where $p$ and $q$ are categorical statmenet about a diagram in $A$, if is true in  $Ab$, it holds true in $A$.
  \end{itemize}
\end{example}



% From my personal experience I have to say that I have seen more difficulties learning this notion rather than learning the utterly similar notion of product, probably because we are more used to think in terms of arrays rather than in terms of universality for the product. I think that thinking in terms of universality should be the way in to these concept.


After learning about the product and the coproduct, we will focus now in the notion of pullback and its dual, the pushout. We will first define the category

\[
  P = \begin{tikzcd}
    x\arrow{r}{f} & z & y\arrow[swap]{l}{g}
\end{tikzcd}
\]

Then we can define the pullback:

\begin{definition}
  Let $C$ be a category and $F:P\to C$ be a functor. Then the pullback of $Fx$ and $F_y$ denoted as $Fx\times_{Fz}Fy$ is the limit of the functor $F$.
\end{definition}

We can represent this structure in the following diagram. For any object $q$ and arrows $f':q\to Fx,g':q\to Fy$ we have:

\[
\begin{tikzcd}
q
\arrow[bend left]{drr}{g'}
\arrow[bend right,swap]{ddr}{f'}
\arrow[dashed]{dr}[description]{u} & & \\
& Fx\times_{Fz}Fy \arrow{r}{p_2} \arrow{d}[swap]{p_1}
& Fy \arrow{d}{Fg} \\
& Fx \arrow[swap]{r}{Ff}
& Fz
\end{tikzcd}
\]

Analogously, we can define:

\[
  CoP = \begin{tikzcd}
    x & z\arrow{l}{f}\arrow[swap]{r}{g} & y
\end{tikzcd}
\]

and define:
\begin{definition}
  Let $C$ be a category and $F:CoP\to C$ be a functor. Then the pushout of $Fx$ and $F_y$ denoted as $Fx\sqcup_{Fz}Fy$ is the colimit of the functor $F$.
\end{definition}

\begin{example}
  \begin{itemize}
  \item Let $A,B,C\in Ob(Set)$ , and let  $f : C \to A, g : C \to B\in Ar(Set)$. The pushout of $f$ and $g$ is the disjoint union of $X$ and $Y$, where elements sharing a common preimage (in $Z$).

  \item Fiber Product: The fiber product is the canonical pullback of 

   \item Seifert-Van-Kampen (Si tienes valor).
  \end{itemize}
\end{example}

Note the  similarity of the pullback/pushout and the one of product/coproduct notation-wise. To understand these we have to consider the similarities of both construction. We are going to focus on the similarities of product and pullback, letting the coproduct/pushouts as duals.\\

In both case, the universal property consists of having an arrow to a generated object only if we have an arrow to each of its generators. In this line of reasoning, we can consider that the product is a pullback where we forget about the object $z$ and its arrows. One easy way to generate that case is to consider the construction when $Fz$ is a terminal object. In that case we have that the existence of $Ff$ and $Fg$ is a tautology, and we can consider 

\[
\begin{tikzcd}
& q
\arrow[bend left]{dr}{q_2}
\arrow[bend right,swap]{dl}{q_1}
\arrow[dashed]{d}[description]{u} & & \\
 Fx  & Fx\times_{Fz}Fy \arrow{r}{\pi_1} \arrow{l}[swap]{\pi_0}& Fy \\
\end{tikzcd}
\]

% having a product structure.  One can proceed to consider an analogous consideration with pushout and coproduct.\\



% One last property that can be expressed in terms of universality, and in particular in terms of limit/colimit is the \emph{power/copower}. The first example of power that we have considered yet of such construction is, given $C$ a small categories an $J$ a discrete category, the category $C^J$ is the power of $C$ up to $J$. The notation is due to the standard tuple notation:  considering a set of  tuples in $\R^n$, is in fact the same as considering the functions from  $n= {0,...,n-1}$ to $\R$.\\

% There are two intuitive notion behind this definition:
% \begin{itemize}
% \item The one more close to the formalism: to consider as a infinite product of the same element.
% \item To consider this 
% \end{itemize}



\section{Adjoints}

Adjointness is a fundamental property on Category theory. It relates two functors $F:C\to D, G:D\to C$. The importance of adjoints however, comes from it ubiquity among mathematics, often relate with the ubiquity of universality. This notion was first presented by Daniel M. Kan in \cite{kan1958adjoint}. For this section we follow \cite{mac2013categories}.\\

We  will start by providing some intuitive notions, before a formal definition. Take the Forgetful Functor $U:Grp\to Set$, and the Free Group Functor $\mathcal{F}:Set\to Grp$. We can see that it is not difficult to consider that we can compose $F$ and $G$ to make endofunctors. These endofunctors are far from being identities, nonetheless we have still a great relation between them: for every set $X$ and group $G$, there is a function $X \to UG$ for each morphism $FX\to U$. Conversely, any function from $X$ to $UG$ induces a morphism. \\

Any avid reader will detect by this point the taste of universality. But there is a bit more, we have a bijective relation on every image home-set of both $F$ and $G$. This is the underlying property of adjointness - to relate home-sets. Lets formalize this idea:
\begin{definition}
  Let $C,D$ be categories. And adjunction is a triple $(F,G,\varphi):D\to C$ where $F,G$ are functors:
  \[
    \begin{tikzcd}
      D\arrow[r, shift left=.5ex, "G"{name=F}] &
      C\arrow[l, shift left=1ex, "F"{name=G}] \\
    \end{tikzcd}
  \]
  while $\varphi$ is a transformation that maps each $(c,d) \in Ob(C\times D)$ with a bijection:
  \[
    \varphi_{c,d}:\hom_C(Fd, c)\equiv\hom_D(d, Gc).
  \]
  which is natural in $c$ and $d$.
\end{definition}

We have a bit to unpack in this definition. We will start to understand in what sense $\varphi$ is natural. Remembering about $N$ functor in Yoneda's Lemma, we can see that it is natural bijection from $\varphi:Hom_C(F\cdot, \cdot)\to \hom_D(\cdot, G\cdot)$ in each variable. That is,  for every $f:d\to d'\in C,k:c\to c' \in D$ the diagrams

\[
\begin{tikzcd}
 \hom_C(Fd,c) \arrow{d}{\hom_C(Fd,\cdot)(g)}\arrow{r}{\varphi_{c,d}}
 &\hom_D(d,Gc)\arrow{d}{\hom_D(d,G\cdot)(g)}&
   \hom_C(Fd,c) \arrow{d}{\hom_C(F\cdot,c)(f)}\arrow{r}{\varphi_{c,d}}
    &\hom_D(d,Gc)\arrow{d}{\hom_D(\cdot,Gc)(f)}\\
 \hom_C(Fd,c') \arrow{r}{\varphi_{c',d}}  &\hom_D(d,Gc')&
    \hom_C(Fd,c') \arrow{r}{\varphi_{c,d'}}  &\hom_D(d,Gc')
  \end{tikzcd}
\]

commutes. \\

We can follow by considering the important notation decision: how to call the adjoints. This is a quite ambiguous notation, but we will stick with the notation of $F$ being the \emph{left adjoint} and $G$ being the \emph{right adjoint}. When a functor \emph{is} a left (resp. right) adjoint it \emph{has} a right (resp. left) adjoint. This notation comes from where is the functor placed in the home-set, when making the bijection.\\

We have already suggested the relationship between universality and adjointness. We can summary that relation in the following property:
\begin{proposition}\label{prop:univAdjoint}
  An adjunction $(F,G,\varphi): D\to C $ determines:
  \begin{itemize}
  \item a natural transformation $\eta: I_D \to GF$ such that $\eta(d):d\to G$ is universal from $G$ to $d$ for every $d\in Ob(D)$. Conversely, we can define:
    $$\varphi(f:Fd\to c) = Gf\circ \eta(d): d\to G c.$$
  \item a natural transformation $\epsilon: FG\to I_C$ such that $\varepsilon(c):Fd\to c$ is universal from $a$ to $F$ and we can define:
    $$\varphi(g:d\to Gc) = \varepsilon(c)\circ Fg: Fd\to c.$$
  \end{itemize}
\end{proposition}
\begin{proof}
  \begin{itemize}
  \item Let $a=Fd$, then we have that
    $$\hom_C(a, c)\equiv\hom_D(d, Gc).$$

    and by proposition \ref{Yoneda-proposition} we have an universal arrow $\eta (d):d\to Ga=GFd$ is provided. The function $d\to \eta(d)$ is natural $I_D\to GF$ as:
    \[
  \begin{tikzpicture}
  \node {\begin{tikzcd}[column sep=20mm]
      d\ar[r,"\eta c"]\ar[d,"h"] & GFd\ar[d,"GFh"]\\
      d'\ar[r,"\eta c'"] & GFd''
  \end{tikzcd}};
\end{tikzpicture}
\]
commutes. 
  \item Analogous.
  \end{itemize} 
\end{proof}


From this proposition we can see that we may be able to define an adjoint based only on the universal arrows provided. We can summary a few equivalent definition of adjoint:
\begin{proposition}\label{prop:equivdefinition}
  Each adjoint $(F,G,\varphi,\eta,\varepsilon):D\to C$ is completely determined by the items in any one of the following list:
  \begin{enumerate}
  \item $F,G$ and a natural transformation $\eta:1_D\to GF$ such that $\eta(d)$ is universal for every $d\in \Ob(D)$.
  \item $F,G$ and a natural transformation $\varepsilon:FG\to 1_C$ such that $\varepsilon(c)$ is universal for every $c\in \Ob(C)$.
  \item $G$ and for each $d\in Ob(D)$:
    \begin{itemize}
    \item an object $F_0(d)\in Ob(C)$.
    \item an universal arrow $\nu(x):d \to GF_0 d$.
    \end{itemize}
    Then $F$ has $F_0$ as object function and $F(h:d\to d') = \eta(x')\circ h$.
  \item $F$ and for each $c\in Ob(C)$:
    \begin{itemize}
    \item an object $G_0(c)\in Ob(D)$.
    \item an universal arrow $\varepsilon(c):c \to GF_0 c$.
    \end{itemize}
  \item  $F,G$ and two natural transformation $\eta: I_D\to GF$, $\varepsilon: FG\to I_C$ such that both composites are identities.
  \end{enumerate}
\end{proposition}
\begin{proof}
  \begin{enumerate}
    
  \item We need to define the natural bijection $\varphi: C(Fd,c)\to D(d,Gc)$. Defining  $\varphi(g) = Gg\circ \eta(c)$ for each $g:Fd \to c$. Is is well define as $Gg\circ \eta(c): d\to Gc$ and it is a bijection  due to $\eta(x)$ universality.\\

    It is natural in $d$ because $\eta$ is natural and is natural in $c$ because $G$ s a functor.
  \item Dual of the previous.
  \item We will proof that there is only one functor with $F_0$ as object function such that $\eta (x): I_D\to GF$ is natural. The naturality and universality told us that each $h:d\to d'\in Ob(D)$ induces two arrows:
\[
\begin{tikzcd}
  F_0 d\arrow[dashed]{d} & d\arrow{d}{h}\arrow{r}{\eta (d)}&GF_0d\arrow[dashed]{d}\\
  F_0 d'& d'\arrow{r}{\eta (d')} & GF_0d'
\end{tikzcd}
\]
    So the only way to define $Fh= \eta (x) \circ h$. We conclude applying 1.
  \item Dual of the previous.
  \end{enumerate}
\end{proof}
To further illustrate this concept we present some examples:
\begin{example}
  \begin{itemize}
  \item Free category from a graph and forgetful functor
  \item \v{C}ech compactification.
  \end{itemize}
\end{example}

{\color{red} TODO? Lastly, we are going to study the  and prove a theorem that allow us to include parameters in adjoints.}



\subsection{Equivalence of Categories}
We can define an isomorphism of categories the same way that we define isomorphisms in any other category: an isomorphism is an arrow (Functor) with a two sided inverse. This definition, while standard, is quite restrictive. We are going to need some more lax concept of equivalence of categories, in the sense that while not being exactly the same, they are mostly the same. Formally:

\begin{definition}
A functor $F:C\to D$ is an equivalence of categories if there exists a functor $G:D\to C$  and two natural isomorphisms $\varphi: I_C \to GF$ and $\zeta: I_D\to FG$
\end{definition}


For the canonical example we may introduce a really organic concept: the \emph{skeleton} of a category. Quite often in mathematics we do not consider all objects of certain type, but rather objects up to isomorphism. The skeleton category of a category $C$ is another category where we consider the objects up to isomorphism. Formally:
  \begin{definition}
    Let $C$ be a category. The skeleton of $C$, namely $ske(C)$, is a subcategory  such that every object in $C$ is isomorphic to an object in $ske(C)$.
  \end{definition}

  The definition of equivalence of categories previously outline will allow us, for example, to consider $C\sim ske(C)$, while not being isomorphic. Continuing our discussion, it is not difficult to draw similarities between equivalences and adjoints. That motivates the further definition:
  \begin{definition}
    Let $(F,G,\varphi,\eta,\varepsilon)$ be an adjoint. It is called an \emph{adjoint equivalence} whenever $\eta$ and $\varepsilon$ are natural equivalences.
  \end{definition}
  It is clear that every adjoint equivalence induces two equivalences in $F$ and $G$. We state this idea in the following proposition:
  \begin{proposition}\cite[Theorem 1, 4.4]{mac2013categories}
    Let $F:C\to D$ be a functor. Then the following properties are equivalent:
    \begin{itemize}
    \item[i)] $F$ is an equivalence of categories.
    \item[ii)] $F$ is part of an adjoint equivalence. 
    \item[iii)] $F$ is full and faithfull, and each object $c\in C$ is isomorphic to $Sa$ for some object $a\in A$. 
    \end{itemize}  
  \end{proposition}
  \begin{proof}\
    \

    
    \begin{itemize}
    \item[$ii)\implies i)$] Given an equivalent adjoint $(F,G,\varphi,\eta,\varepsilon)$, then $F$ is an equivalence with $G,\eta,\varepsilon$. 
    \item[$i)\implies iii)$] $\varphi: GF\equiv I_C$ implies that for every $c\in Ob(C)$ we can consider $c\equiv GFc$. Then considering the natural isomorphism $\zeta: FG\equiv I_D$ states for every $f:a\to a'\in D$
\[
\begin{tikzcd}
  FGa \arrow{d}{FG f}& a\arrow{d}{f}\arrow{l}{\zeta^{-1} a}\\
  FGa' \arrow{r}{\zeta a'}& a'
\end{tikzcd}
\]

 there is one $FG f$ for each $f$ and we get that $G$ is faithful. Analogously we can see that $F$ is also faithful. To see that $G$ is full we can 
    \item[$iii)\implies ii)$] We can see that 
    \end{itemize}
  \end{proof}


  In the next few subsection, we are going to introduce categories, with some additional structures onto them. This type of considerations, are commonplace in category theory, and will provide useful considerations.

  \subsection{Monad}
  


  \subsection{Closed Cartesian Categories}

  The notion of product seen in \ref{prod-univ} is a notion that seek to catch the essence of what the Cartesian product is in the category of Set. In this category it happens that for any two objects, one can consider the product without any hesitance about it existence. A \emph{Cartesian category} will be a category that, in some sense, maintain this property (of being closed under Cartesian product). Formally: 
  \begin{definition}
    A Cartesian category is a category with a distinguish terminal object $T$ and for which every finite product exists.
  \end{definition}

Nonetheless, further on the text we will need categories with some even nicer properties. These categories are called \emph{closed catersian categories}. We will define them formally first, and after unpack the information that the definition contains:
  
  \begin{definition}\label{def:CCC}
    A $C$ is closed cartesian if each of the following functors:
\begin{center}
  \begin{tabular}{p{0.3\linewidth}p{0.3\linewidth}p{0.3\linewidth}}
    $\qquad F_1:C\to 1$&$ F_2=\Delta: C \to C\times C $&$ F_{3}^b:C \to C$\\
    $\qquad \qquad c\to e$&$ \qquad \qquad c \to  (c,c)$&$ \qquad c \to c\times b$\\
  \end{tabular}
\end{center}
has a \emph{specified} right adjoint, denoted by:
\begin{center}
  \begin{tabular}{p{0.3\linewidth}p{0.3\linewidth}p{0.3\linewidth}}
    $\qquad G_1:1\to C$&$ G_2:  C\times C\to C $&$ G_{3}^b:C \to C$\\
    $\qquad \qquad e\to t$&$ \  \qquad (c,b)\to c \times b$&$ \qquad c \to c^b$\\
  \end{tabular}
\end{center}

These adjoints provide us with a lot of information:
\begin{itemize}
\item From $F_1$ being an adjoint we get that $t$ is terminal as for every $c\in Ob(C)$:
  $$\{id_e\} \equiv \hom_1(F_1(c), e) \equiv \hom_C(c,Ge=t)   $$
\item From $F_2$ we get that every pair $c,b$ has a product at is states the universal property of product:
  $$\hom_{C\times C}(F_2(c), (c',b'))\equiv \hom_{C\times C}((c,c), (c',b')) \equiv \hom_C(c,c'\times b')$$
  that is, for every object in $c\in C$, to provide a morphism to $c\to c'\times b'$ is the same that providing to morphisms $c\to c',c\to b'$.
\item First of all, as every product exists, and it specified by $F_2$, we can define $F_3^b$ for every $b$. Then, it adjointness states that:
  $$\hom_C(c\times b, d) \equiv \hom_C(c,d^b)   $$

  This object $d^b$ is called the exponential object or map object. The intuitive notion is that this object represent in some way the arrows from $b$ to $c$, being a generalization of the function set of two small sets. The best way to understand this adjoint is by the natural transformation $\varepsilon^b(c^b\times b) = c$. In this context, this is called \emph{evaluation arrow}. In the context of $Set$ this amount to the classic evaluation of a function.\\

actually it is a technical condition that this adjoint is natural in $b$ (cita maclane). 
\end{itemize}


Cartesian Closed Categories will be reformulated in Chapter 4, proposition \ref{def2:CCC}. We will use this last ideas in other to equationally present the concept. For now on, lets provide some examples of Cartesian Closed Categories:


 

\begin{example}
  \begin{itemize}
  \item $Set$
  \item The category of compactly generated Hausdorff spaces.
  \item We will prove later that lambda calculus is, in some sense, a closed cartesian category.
  \end{itemize}
\end{example}


          Proposition 4.1 Lambeck: {\color{red} TODO }. \label{prop:4.1lambeck}